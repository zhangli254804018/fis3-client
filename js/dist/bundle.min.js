!function e(t,n,i){function a(s,o){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!o&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return a(n?n:e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){e("../lib/jquery.unslider.js"),e("./api/util.js"),e("./api/lazyload.js");var i=e("./dev/banner.js"),a=e("./dev/anchor.js"),r=e("./dev/tab.js"),s=e("./dev/ad.js"),o=Backbone.Router.extend({routes:{"":"singer"},initialize:function(){},singer:function(){var e=new i.ViewFl({model:new i.Model});$.rcbanFr=new i.ViewFr({model:e.model}),$.rcanchor=new a.View({model:new a.Model});var t=new r.View({model:new r.Model}),n=new s.ViewFl({model:new s.Model}),o=new s.ViewFr({model:n.model});$("#rc-nav").append(n.el).prepend(o.el),$("#banfLTpl").html(e.el),$("#banRLTpl").html($.rcbanFr.el),$("#rc-tabs").html(t.el)}});$.app=new o,Backbone.history.start();var c=$("#app"),l=!1,d=0;window.customScrollbar=function(e){l?c.customScrollbar("resize",!0):(c.customScrollbar({skin:"default-skin",hScroll:!1,updateOnWindowResize:!0,animationSpeed:500,onCustomScroll:function(e,t){$.initImagesLazyLoad(c.find(".rc-content").add("#rc-banner"))}}),$("div.thumb",c).mousedown(function(){try{external.setCapture()}catch(e){}}),l=!0),e&&$("div.scroll-bar",c).is(":visible")&&c.customScrollbar("scrollToY",0)},window.customScrollbarAppend=function(){d=1*$(".viewport .overview").css("top").replace("px",""),c.customScrollbar("resize",!0),c.customScrollbar("scrollToY",d>=0?d:-d)},$(function(){try{external.initComplete()}catch(e){}customScrollbar(!0),$(window).focus(function(){var e=$(this);e.trigger("resize"),customScrollbar(!0)}),$(window).load(function(){var e=_.now(),t=serverConfig.start_time;try{var n=Math.abs(Math.round(window.performance.now()))}catch(i){var n=Math.abs(Math.round(e-t))}_ga("send","timing","dom","loaded",n,"RC Live")})})},{"../lib/jquery.unslider.js":11,"./api/lazyload.js":3,"./api/util.js":4,"./dev/ad.js":5,"./dev/anchor.js":6,"./dev/banner.js":7,"./dev/tab.js":9}],2:[function(e,t,n){!function(e){var e=window.serverConfig,n={PATH:{GET_SHOW:e.apis.show,GET_GAME:e.apis.game,GET_TEAM:e.apis.team,GET_LIVE:e.apis.live,GET_SWF:e.apis.swf}};t.exports=n}(window.serverConfig)},{}],3:[function(e,t,n){$.initImagesLazyLoad=function(e,t){function n(e){function i(){e.removeClass("lazy").addClass("lazy-loaded"),r?e.css("background-image","url("+s+")"):e.attr("src",s),t.imagesLazyLoadSequential&&(d=!1,l.length>0&&n(l.shift()))}function a(){e.removeClass("lazy").addClass("lazy-loaded"),r?e.css("background-image","url("+c+")"):e.attr("src",c),t.imagesLazyLoadSequential&&(d=!1,l.length>0&&n(l.shift()))}e=$(e);var r=e.attr("data-background"),s=r?r:e.attr("data-src");if(s){if(t.imagesLazyLoadSequential&&d)return void(l.indexOf(e[0])<0&&l.push(e[0]));d=!0;var o=new Image;o.onload=i,o.onerror=a,o.src=s}}function i(){o=e.find(".lazy"),o.each(function(e,i){setTimeout(function(){i=$(i),i.parents(".tab:not(.active)").length>0||a(i[0])&&n(i)},t.timeout*e)})}function a(e){t.getSize();var n=e?e.getBoundingClientRect():{top:0,left:0},i=t.imagesLazyLoadThreshold||0,a=t.height||document.documentElement.scrollTop||0,r=t.width||document.documentElement.scrollLeft||0;return n.top>=0-i&&n.left>=0-i&&n.top<=a+i&&n.left<=r+i}function r(t){var n=t?"off":"on";o[n]("lazy",i),o.parents(".tab")[n]("show",i),e[n]("lazy",i),e[n]("scroll",i)}function s(){r(!0)}e=$(e);var o;if(e.hasClass("lazy")?(o=e,e=o.parents(".page")):o=e.find(".lazy"),0!==o.length){t||(t={}),t=$.extend({},{timeout:100,imagesLazyLoadPlaceholder:null,imagesLazyLoadSequential:null,imagesLazyLoadThreshold:10,height:0,width:0},t),t.root=$(t.root||"body");var c=serverConfig.rc_assets+"img/live/img_rc.jpg";"string"==typeof t.imagesLazyLoadPlaceholder&&(c=t.imagesLazyLoadPlaceholder),t.imagesLazyLoadPlaceholder!==!1&&o.each(function(){$(this).attr("data-src")&&$(this).attr("src",c),$(this).attr("data-background")&&$(this).css({background:"url("+c+") center center  no-repeat  #f3f3f5"})});var l=[],d=!1;t.getSize=function(){var e=t.root.offset();t.width=t.root[0].offsetWidth,t.height=t.root[0].offsetHeight,t.left=e.left,t.top=e.top},e[0].f7DestroyImagesLazyLoad=s,r(),i()}},$.destroyImagesLazyLoad=function(e){e=$(e),e.length>0&&e[0].f7DestroyImagesLazyLoad&&e[0].f7DestroyImagesLazyLoad()},$.reinitImagesLazyLoad=function(e){e=$(e),e.length>0&&e.trigger("lazy")}},{}],4:[function(e,t,n){!function(e){var t;e.extend({formaTime:function(e,t){if(!e)return null;var n=e.toString().length>10?new Date(parseInt(e)):new Date(1e3*parseInt(e)),i=t?t:"yyyy-MM-dd",a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};/(y+)/i.test(i)&&(i=i.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in a)new RegExp("("+r+")").test(i)&&(i=i.replace(RegExp.$1,1==RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return i},MillisecondToDate:function(e){var t=parseFloat(e);if(null!=t&&""!=t){var n="";t>=0&&t<3600?(n+="00:",n+=(parseInt(t/60)>=10?parseInt(t/60):"0"+parseInt(t/60))+":",n+=parseInt(60*(parseFloat(t/60)-parseInt(t/60)))>=10?parseInt(60*(parseFloat(t/60)-parseInt(t/60))):"0"+parseInt(60*(parseFloat(t/60)-parseInt(t/60)))):t>=3600?(n+=(parseInt(t/3600)>=10?"":"0")+parseInt(t/3600)+":",n+=(parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))>=10?"":"0")+parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))+":",n+=(parseInt(60*(parseFloat(60*(parseFloat(t/3600)-parseInt(t/3600)))-parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))))>=10?"":"0")+parseInt(60*(parseFloat(60*(parseFloat(t/3600)-parseInt(t/3600)))-parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))))):n+="00:00:"+parseInt(t)}return n},formatNum:function(e,t,n){return e&&t?(n=n?n:5,t.slice(0,Math.ceil(e.length/n)*n)):null},delayBounce:function(e,n){function i(){var i=this,a=arguments;clearTimeout(t),t=setTimeout(function(){e.apply(i,a)},n)}return i()},showAlert:function(t,n,i,a,r,s){if(!e("#alert").length){var t=t?t:"提示",n=n?n.replace(/\n/gi,"</br>"):"",i=i?i:"確定",o="";o+='<div class="j-dialog j-buy-mount-view j-dialog-in" id="alert" ><div class="j-dialog-mask"></div>',o+='<div class="j-dialog-main"><h5 class="j-dialog-header">'+t+"</h5>",o+='<div class="j-dialog-content"><i class="j-dialog-icon-warning"></i><p class="desc">'+n+"</p></div>",o+='<div class="j-dialog-btn-wrap"><a class="j-dialog-btn-confirm">'+i+"</a>",r&&(o+='<a class="j-dialog-btn-cancel">取消</a>'),o+="</div></div></div>";var c=e(o).appendTo("body");return c.find("a").click(function(){return c.remove(),"function"==typeof a&&e(this).hasClass("j-dialog-btn-confirm")&&a&&a(),"function"==typeof s&&e(this).hasClass("j-dialog-btn-cancel")&&s&&s(),!1}),c.find("span").click(function(){c.remove()}),this}},showToast:function(t,n,i){if(!e("#alert").length){var t=t?t.replace(/\n/gi,"</br>"):"提示",a='<div class="toast-mask"></div><div class="toast-text"><h3>'+t+"</h3></div>",r=e('<div id="toast" class="toast">'+a+"</div>");if(e("#toast").length)e("body").find("#toast").html(a),n&&e("body").find("#toast").remove();else if(r.appendTo("body"),i){setTimeout(function(){r.remove()},i?i:1500)}}},verification:function(e,t){var n={title:/^[\u2E80-\uFE4F]{2,18}$/,desc:/^[\u2E80-\uFE4F]{2,200}$/},i=n[e];return!!i.test(t)},getHash:function(){var e=window.location.href.match(/#(.*)/);return e?e[1]:""},parseUrlQuery:function(e,t){var n,i,a,e=e||location.href,r={};if("string"==typeof e&&e.length){if(e=e.indexOf("#")>-1?e.split("#")[0]:e,!t){if(!(e.indexOf("?")>-1))return r;e=e.split("?")[1]}for(i=e.split("&"),n=0;n<i.length;n++)a=i[n].split("="),r[a[0]]=a[1]}return r},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},addCallbackParam:function(e){return e+="",e+(/\?/.test(e)?"&":"?")+"callback=?"},addMathroundParam:function(e){return e+="",e+(/\?/.test(e)?"&":"?")+"v="+Math.random()},httpGetApi:function(t,n,i){var a=this,r=function(){e.ajax({method:"get",async:!0,url:t,dataType:"json",timeout:3e3,data:n,crossDomain:!0,xhrFields:{withCredentials:!0},success:function(e){0==e.code?i&&i(e):1==e.code?RC.login():a.showToast(e.msg,!1,1500)},error:function(e){}})};return new r},httpPostApi:function(t,n,i){var a=this,r=function(){return e.ajax({type:"post",url:t,data:n,cache:!1,async:!1,dataType:"json",timeout:300,success:function(e){0==e.code?i&&i(e.data):1==e.code?RC.login():a.showToast(e.msg,!1,1500)},error:function(e){}})};return new r},pageFormat:function(e,t,n){var i=e.len?e.len:5,a=e.current?e.current:1,r=e.start?e.start:1,n=n?n:Math.ceil(t.length/e.len),s=n-a>=5?3:n-a,o=[];if(s>=3&&a-2>0)for(var c=a-2;c<s+a;c++)o.push(c);else if(s>=0)for(var c=a;c<=s+a;c++)o.push(c);return{len:i,start:r,total:n,list:o,current:a}},substrLen:function(e,t){return e&&e.length>t?e.substr(0,t?t:e.length)+"……":e},Slider:function(t,n){if(t){var i;i=function(t,n){function i(){var n=p.children();a(),"hover"==v?n.mouseover(function(){c();var n=e(this).index();o(n,t.mode)}).mouseout(function(){g&&r()}):n.click(function(){c();var n=e(this).index();o(n,t.mode),g&&r()}),g&&r()}function a(){var e=n.children().first();"slide"==t.mode?e.width($):e.children().css({position:"absolute",left:0,top:0}).first().siblings().hide()}function r(){h=setInterval(function(){s(u)},t.time)}function s(e){var n;n=e==_-1?0:e+1,o(n,t.mode)}function o(e,n){b.stop(!0,!0),w.stop(!0,!0),"slide"==n?function(){if(e>u)b.animate({left:"-="+Math.abs(e-u)*y+"px"},m);else{if(!(e<u))return;b.animate({left:"+="+Math.abs(e-u)*y+"px"},m)}}():function(){b.children(":visible").index()!=e&&b.children().fadeOut(m).eq(e).fadeIn(m)}();try{p.children("."+f).removeClass(f),p.children().eq(e).addClass(f)}catch(i){}u=e,t.exchangeEnd&&"function"==typeof t.exchangeEnd&&t.exchangeEnd.call(this,u)}function c(){clearInterval(h)}function l(){c(),s(0==u?_-2:u-2),g&&r()}function d(){c(),s(u==_-1?-1:u),g&&r()}var h,t=t||{},u=0,f=t.activeControllerCls,m=t.delay,g=t.auto,p=t.controller,v=t.event,b=n.children().first(),w=b.children(),_=w.length,y=n.width(),$=y*w.length;t.id?t.id:0;return i(),{prev:function(){l()},next:function(){d()}}},new i(n,t)}},kindFormat:function(e,t){var n=_.union([],[{type:0,name:"遊戲","class":"game"},{type:1,name:"娛樂","class":"disport"},{type:2,name:"綜合","class":"multiple"}]),i=_.findLastIndex(n,function(t){return t.type===e});return i!==-1?n[i]:"綜合"},userListFormat:function(e){var t=_.each(e.sess_music,function(e){e.status="sess_music"}),n=_.each(e.sess_game,function(e){e.status="sess_game"}),i=_.each(e.sess_show,function(e){e.status="sess_show"}),a=_.each(e.top_banners_show,function(e){e.status="top_banners_show"}),r=_.each(e.top_banners_game,function(e){e.status="top_banners_game"}),s=_.union(t,n,i,a,r);return _.isArray(s)?s:_.toArray(s)}}),e.fn.extend({showError:function(t,n){var i=this,a=e('<div id="error" class="error"><div><h6>'+(t?t:"輸入格式不正確")+"</h6></div></div>");e(i).find(a).length?n&&e(i).find(a).remove():e(i).appendTo(a)},showDropDown:function(t,n){if(t.length){var i=this,a="";a+='<ul id="menu1" class="dropdown-menu" role="menu" aria-labelledby="drop4">',e.each(t,function(e,t){a+='<li role="presentation"><a role="menuitem" class="btn-confirm" href="javascript:;" data-click="'+t.callback+'">',a+="<h3>"+t.text+"</h3>",t.button&&(a+="<p>"+t.button+"</p>"),a+="</a></li>"}),a+="</ul>";var r=e(a);e(i).parents("body").find("#menu1").remove(),e(i).removeClass("open"),e(i).addClass("open").append(r),e.each(t,function(e,t){r.find("a.btn-confirm").eq(e).click(function(){r.remove();var e=t.callback;return"function"==typeof e&&e&&e(),!1})}),e(i).parent().parent().not("a.btn-confirm").click(function(){e(i).removeClass("open"),r.remove()})}},showLoading:function(t){var n=this,i=e('<div class="no-data tc">加載中···</div>'),a=e(n).height()>200,r={position:"absolute",top:a?"auto":0,left:0,right:0,bottom:"20px",margin:"40% auto",height:"40px",width:"200px"},t=t?t:"show";e(n).css({position:"relative"}),e(n).find(".no-data").length?"hide"==t&&e(n).find(".no-data").remove():(e(n).append(i),e(n).find(i).css(r))},adSize:function(t){var n=e(this);e(window).resize(function(i){var a=e("body,html").width(),r=(e("body,html").height(),e(t).width()),s=(e(t).offset().left,e(t).offset().right,n.width()?n.width():200);a<r+2*s+40?n.hide():n.fadeIn()}).trigger("resize")},adActive:function(t){var n=e(this),i=e('<div class="slider-item-active"></div>'),a=t?t:e("#banRLTpl").find(".slider-rank"),r=n.offset();a.find(".slider-item-active").length?a.find(".slider-item-active").animate({top:r.top-12,left:"-7px"}):a.append(i)},adOverflow:function(t,n){var i,a=e(this),r=n?n:800,s=a.text(),o='<em class="over-title" style="white-space:nowrap;color:#fff">'+s+"</em",c=function(){a.show(),a.parent().find(".over-title").remove(),window.clearInterval(i)},l=function(){a.hide();var e=a.parent().find(".over-title");e.length||a.parent().append(o);var e=a.parent().find(".over-title"),t=a.parent().width(),n=e.width(),s=Math.max(n-t,0);s<5||(i=window.setInterval(function(){e.css({position:"absolute","white-space":"nowrap",top:0}).animate({left:0},r,"swing",function(){e.animate({left:-s},2*r)})},2*r))};a.parent().css({position:"relative",overflow:"hidden"}).hover(function(){l()},function(){c()})}}),window._ga=function(){"function"==typeof ga&&ga.apply(window,Array.prototype.slice.call(arguments,0))}}(window.jQuery)},{}],5:[function(e,t,n){var i=(e("../api/config.js"),window.serverConfig),a=Backbone.Model.extend({defaults:{ad:{url:i.ad.rc_adurl,img:i.rc_assets+"img/ad/live_event.png",banbg:i.rc_assets+"img/ad/live_bg.png",bg:i.rc_assets+"img/ad/live_bg_repeat.png",show_report_url:"",title:i.ad.rc_adtitle}},parse:function(e){var t={};return 0===e.code&&(t=e.data),t},initialize:function(){this.on("change",this.adChange)},adChange:function(){return{ad:this.get("ad")}}}),r=Backbone.View.extend({tagName:"div",id:"rc-ad-fl",className:"rc-ad rc-ad-fl",initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},events:{"click #rc-content-game a.link-rec":"clickRec"},render:function(){var e=this.model.adChange().ad;if(e.url){var t=this,n=new Image;return n.src=e.img,n.onload=function(){t.$el.adSize("#rc-banner")},this.template=_.template($("#tpl_ad").html()),this.$el.html(this.template(e)).hide(),this.delegateEvents(),this}},clickRec:function(e){$(e.currentTarget)}}),s=Backbone.View.extend({tagName:"div",id:"rc-ad-fr",className:"rc-ad rc-ad-fr",initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},events:{"click #rc-content-game a.link-rec":"clickRec"},render:function(){var e=this.model.adChange().ad;if(e.url){var t=this,n=new Image;return n.src=e.img,n.onload=function(){t.$el.adSize("#rc-banner")},this.template=_.template($("#tpl_ad").html()),this.$el.html(this.template(e)).hide(),this.delegateEvents(),this}},clickRec:function(e){$(e.currentTarget)}}),o={ViewFr:s,ViewFl:r,Model:a};t.exports=o},{"../api/config.js":2}],6:[function(e,t,n){var i=e("../api/config.js"),a=window.serverConfig,r=Backbone.Model.extend({defaults:{anchorList:[],page:{total:0,current:0,len:15}},parse:function(e){var t={};if(0===e.code&&(t=e.data),_.isArray(e)){var n=this.get("page");t={anchorList:e,page:$.pageFormat(n,e)}}return t},initialize:function(){this.url=$.addCallbackParam(i.PATH.GET_SHOW+"?type=0&size=20&page=1"),this.on("change",this.anChange)},anChange:function(){var e=this.get("anchorList"),t=this.get("page"),n=t.current?t.len*t.current:15,i=_.chain(e).filter(function(e){return e.live||e.label}).sortBy(function(e){return!e.lvNum}).sortBy(function(e){return!e.label}).value(),r=i.concat(_.chain(e).filter(function(e){return!e.live}).sortBy(function(e){return!e.lvNum&&!e.online}).value()),s=a.anchorListM=_.chain(e).filter(function(e){return e.live&&(e.link_type=3),!e.cate&&1==e.live&&!e.label}).sortBy(function(e){return-e.weight}).filter(function(e){return e.weight>=50}).first().value();return{anclistrm:s,anclist:i.length>=15?$.formatNum(i,r):r.slice(0,n),page:t}}}),s=Backbone.View.extend({tagName:"div",id:"rc-rec",className:"rc-rec singer-rec singers-rec",initialize:function(){this.btnLoad=!1,this.listenTo(this.model,"change",this.render),this.model.fetch()},events:{"click #rc-rec ul>li a.link-rec":"clickRec","click #rc-rec a.go-more":"clickMore","mouseout #rc-rec ul>li a.link-rec":"clickRecOut"},render:function(){var e=this.model.anChange();return this.template=_.template($("#tpl_anchor").html()),this.$el.html(this.template(e)),this.delegateEvents(),$.initImagesLazyLoad(this.$el.find(".link-rec")),$(window).trigger("resize"),this},clickRec:function(e){var t=$(e.currentTarget),n=t.data("live"),i=t.data("cid"),a=t.data("uid"),r=t.data("sid");if(1==n)try{external.enterServer(r,i,6)}catch(s){}else window.open("//rcshow.tv/live/?uid="+a)},clickRecOut:function(e){$(e.currentTarget)},clickMore:function(e){if(!this.btnLoad){this.btnLoad=!0;var t=$(e.currentTarget),n=t.data("current");n++;var i=this.model.get("anchorList"),a=this.model.get("page"),r=$.extend({},a,{current:n});$.when(this.model.set({anchorList:i,page:r})).then(this.btnLoad=!1)}},hoverRec:function(e){$(e.currentTarget)}}),o={View:s,Model:r};t.exports=o},{"../api/config.js":2}],7:[function(e,t,n){var i=e("../api/config.js"),a=window.serverConfig,r={autoplay:!0,speed:500,delay:4e3,complete:function(){},dots:!0,fluid:!1},s=$.extend({},r,{autoplay:!1}),o=$('<a href="javascript:;" class="slider-link"></a>'),c=$('<div class="banner-cover"></div>'),l=Backbone.Model.extend({defaults:{banner:{sess_music:{},sess_game:{},sess_show:{},top_banners_show:[],top_banners_game:[],sess_index:{game:0,show:0,music:0}},bannerLive:{},bannerSet:void 0},parse:function(e){var t={};return 0===e.code&&(t=e.data),t},initialize:function(){this.on("change",this.banChange)},banData:function(){var e=this.get("banner"),t=this.get("bannerSet"),n=this.get("bannerLive"),i=_.keys(e);$.each(i,function(t,n){if(!_.isArray(e[n])){var i=[],a=e[n];i.push(a),e[n]=i}});var r={},s=[],o=[],c=$.extend({},e),l=$.userListFormat(e),d=_.chain(l).filter(function(e){return"sess_music"===e.status&&e.live&&3==e.link_type}).value(),h=_.chain(l).filter(function(e){return"sess_show"===e.status}).value();if(a.anchorListM){var u=a.anchorListM?a.anchorListM:$.rcanchor.model.anChange().anclistrm;$.extend(r,u)}if(!h.length){var f=$.extend({img:a.rc_assets+"img/ic_hot_rec.png"},r);s.push(f);var m=_.union(e.sess_show?e.sess_show:[],s);$.extend(c,e,{sess_show:m})}if(!d.length&&!s.length&&a.anchorListM){var g=$.extend({img:a.rc_assets+"img/ic_hot_rec.png"},r);o.push(g);var p=_.union(e.sess_music?e.sess_music:[],o);$.extend(c,e,{sess_music:p})}this.set($.extend({},{banner:e,bannerSet:t,bannerLive:n},{banner:c}))},banChange:function(){this.banData();var e=this.get("banner"),t=this.get("bannerSet"),n=this.get("bannerLive");return{banner:e,bannerSet:t?t:e.sess_music,bannerLive:n}}}),d=Backbone.View.extend({tagName:"div",className:"ban-fl",initialize:function(){this.listenTo(this.model,"change",this.render)},events:{"click #banfLTpl .slides a.link-banner":"ClickBanner"},render:function(){var e=this.model.banChange();this.template=_.template($("#tpl_banfL").html()),this.$el.html(this.template(e)),this.delegateEvents();var t=this;return t.$el.find(".slider-focus .banner").unslider(s),$.each(e.bannerSet,function(e,n){t.$el.find(".sliders-banner.link-banner").eq(e).data("banner",n)}),$.initImagesLazyLoad(this.$el,{timeout:1e3}),this},ClickBanner:function(e){e.stopPropagation();var t=$(e.currentTarget),n=t.data("banner"),i=new Image;i.src=$.addMathroundParam(n.click_report_url),$.rcbanFr.live({url:n.url,link_type:n.link_type,uid:n.uid,cid:n.cid,sid:n.sid,rawSid:n.rawSid,live:n.live,report:n.report,url_open:0})}}),h=Backbone.View.extend({tagName:"div",className:"ban-fr",initialize:function(){this.listenTo(this.model,"change:banner",this.render);var e={sess_music:a.sess_music,sess_game:a.sess_game,sess_show:a.sess_show,top_banners_show:a.top_banners_show,top_banners_game:a.top_banners_game},t=$.extend({},this.model.get("banner"),e);this.model.set({banner:t})},sectList:function(e,t){var n=_.chain(e).filter(function(e){return e.live&&3==e.link_type}).sample().value(),i=_.findLastIndex(e,function(e){return e==n}),t=t?t:i!=-1?e[i].status:"sess_music",a=_.chain(e).filter(function(e){return e.status==t}).findLastIndex(function(t){return t==e[i!=-1?i:0]}).value();return{index:a!==-1?a:0,status:t}},secBanner:function(){var e=this.model.banChange().banner,t=$.extend({},e),n=$.userListFormat(t),i=this.sectList(n);return i},events:{"click #banRLTpl .slider-item":"ClickSlider","click #banRLTpl .slider-item a.link-banner":"ClickBanner"},render:function(){var e=this,t=this.model.banChange().banner;return this.template=_.template($("#tpl_banRL").html()),this.$el.html(this.template(t)),this.delegateEvents(),this.$el.find(".slider-item").append(c),this.$el.find("a.link-banner").append(o),_.delay(function(){e.sliders=$(".slider-item .banner").unslider(r),e.$el.find("a.link-banner").add(e.sliders.find(".dot")).click(function(t){t.stopPropagation();var n=$(t.currentTarget),i=n.hasClass("link-banner")?$(t.currentTarget).parents("li").data("index"):n.index();e.ClickBLink(i)}),$.initImagesLazyLoad(e.$el,{timeout:100})},500),$.delayBounce(function(){var t=e.secBanner();e.ClickSlider("","[data-keys="+t.status+"]")},500),this},ClickBLink:function(e){$(".slider-focus .banner")._move(s,e?e:0)},ClickBanner:function(e,t){e&&e.stopPropagation();var n=e?$(e.currentTarget):$(t);$.initImagesLazyLoad(n.add($("#banfLTpl")),{timeout:50})},ClickSlider:function(e,t){e&&e.stopPropagation();var n=e?$(e.currentTarget):$(t),i=n.data("keys"),a=this.model.banChange().banner,s=this.model.banChange().bannerSet,o=$.extend({},{banner:a,bannerSet:s}),c=n.find(".has-dots").attr("data-index"),l=0;if(_.has(a,i)){var d=a[i],h=_.chain(d).filter(function(e){return e.live&&3==e.link_type}).sample().value();l=_.findLastIndex(d,function(e){return e===h}),o=$.extend({},o,{bannerSet:a[i],bannerLive:h?h:{}})}$.when(this.model.set(o)).then(this.livePlayer()).then(this.ClickBanner(e,t)).then(n.addClass("active").siblings().removeClass("active")).done(this.ClickBLink(c)),n.siblings(".slider-live").find(".banner")._always(r),i.indexOf("sess_")>-1&&_.has(h,"live")&&_.delay(function(){n.find(".banner")._slide(r,l)},500)},livePlayer:function(e){var t=this.model.banChange().bannerSet,n=this.model.banChange().bannerLive,i=n?n:t;i.url_open=1,this.live(i)},live:function(e){if(e){var t=e.url,n=e.link_type,r=(e.uid,e.cid),s=e.sid,o=e.rawSid,c=e.live,l=e.click_report_url,d=e.tips,h=($.getQueryString("cookie"),e.url_open),u=$("#myDynamicContent"),f=function(){if(3==n&&c&&1==h){var e=$('<div class="sliders-tv" id="myDynamicContent"></div>');$("#banfLTpl").find(".banner").append(e);var u=($.addCallbackParam(i.PATH.GET_LIVE),{cid:r,sid:s,rawSid:o,report_url:l?encodeURIComponent($.addMathroundParam(l)):"",tips:d,time:6e4});swfobject.embedSWF(a.rc_swf,"myDynamicContent","560","420","9.0.0",a.rc_express,u),_ga("send","event","showuser","click","左側tab主播視頻")}else if(1==n&&isNaN(t)&&0==h)window.open(t);else if(isNaN(t)&&3==n&&0==h)try{external.enterServer(s,r,6)}catch(f){}else if(isNaN(t)&&2==n&&0==h)try{location.href=t}catch(f){}};$.delayBounce(function(){u.remove(),f()},600)}}}),u={ViewFr:h,ViewFl:d,Model:l};t.exports=u},{"../api/config.js":2}],8:[function(e,t,n){var i=e("../api/config.js"),a=(window.serverConfig,Backbone.Model.extend({defaults:{gameList:[],page:{total:0,current:0,len:100}},parse:function(e){var t={};if(0===e.code&&(t=e.data),_.isArray(e.data)){var n=this.get("page"),i=this.get("gameList"),a=_.union([],i,e.data);t={gameList:a,page:$.pageFormat(n,a)}}return t},initialize:function(){this.on("change",this.gameChange)},gameChange:function(){var e=this.get("gameList"),t=this.get("page"),n=t.current?t.len*t.current:20,i=0;return e=_.chain(e).sortBy(function(e){return 1==e.game_type}).filter(function(e){return 1==e.game_type&&i<5&&(e.hot=1,i++),e.game_type}).value(),{gameList:e.slice(0,n),page:t}}})),r=Backbone.View.extend({tagName:"div",id:"rc-rec",className:"rc-rec singer-rec game-rec",initialize:function(){this.btnLoad=!1,this.listenTo(this.model,"change",this.render),this.fetch()},events:{"click #rc-content-game ul>li a.link-rec":"clickRec","click #rc-content-game a.go-more":"clickMore","mouseout #rc-content-game ul>li a.link-rec":"clickRecOut"},render:function(){var e=this.model.gameChange();return this.template=_.template($("#tpl_game").html()),this.$el.html(this.template(e)),this.delegateEvents(),$("body").customScrollbar("scrollToY",0),this.btnLoad||$(window).trigger("resize"),this.btnLoad=!0,$.initImagesLazyLoad(this.$el.find(".link-rec")),this},fetch:function(){$("#rc-content-game").showLoading();var e=this.model.get("page").len?this.model.get("page").len:20,t=this.model.get("page").current?this.model.get("page").current:1;this.model.url=$.addCallbackParam(i.PATH.GET_GAME+"?type=-1&size="+e+"&page="+t),this.model.fetch({success:function(){$("#rc-content-game").showLoading("hide")},error:function(){$("#rc-content-game").showLoading("hide")}})},clickRec:function(e){var t=$(e.currentTarget),n=t.data("gametype"),i=t.data("playcode");if(1==n)try{window.external.startGamebox(i)}catch(a){}else location.href(i)},clickRecOut:function(e){$(e.currentTarget)},clickMore:function(e){var t=$(e.currentTarget),n=t.data("current");n++;var i=this.model.get("gameList"),a=this.model.get("page"),r=$.extend({},a,{current:n});$.when(this.model.set({gameList:i,page:r})).then(this.fetch())}}),s={View:r,Model:a};t.exports=s},{"../api/config.js":2}],9:[function(e,t,n){var i=(e("../api/config.js"),e("./anchor.js"),e("./game.js")),a=e("./team.js"),r=(window.serverConfig,Backbone.Model.extend({defaults:{tab:{loaded:[],current:""}},parse:function(e){var t={};return 0===e.code&&(t=e.data),t},initialize:function(){this.on("change",this.tabChange)},tabChange:function(){return{tab:this.get("tab")}}})),s=Backbone.View.extend({tagName:"div",id:"rc-tab",className:"rc-tab clearfix",initialize:function(){var e=_.sample(["game","team","anchor"]),t=this.model.get("tab"),n=this.model.tabChange().tab;t.current=e,this.initTab(n.current,n),this.listenTo(this.model,"change",this.render),this.model.set(t)},events:{"click #rc-tab a.link-tab":"clickTab"},render:function(){var e=this.model.tabChange();return this.template=_.template($("#tpl_tab").html()),this.$el.html(this.template(e)),this.delegateEvents(),this},initTab:function(e,t){if(e){var n=_.findLastIndex(t.loaded,function(t){return t===e}),r=$.extend({},t,{current:e});if(n==-1){if("game"==e){var s=new i.View({model:new i.Model});$("#rc-content-game").html(s.el),$("#rc-content-game").showLoading()}else if("team"==e){var o=new a.View({model:new a.Model});$("#rc-content-team").html(o.el),$("#rc-content-team").showLoading()}else"anchor"==e&&($("#rc-content-anchor").html($.rcanchor.el),$("#rc-content-anchor").showLoading(),_.delay(function(){$("#rc-content-anchor").showLoading("hide")},300));t.loaded.push(e),$.extend(r,{loaded:t.loaded})}$("#rc-content-"+e).removeClass("hide").siblings().addClass("hide"),this.model.set({tab:r}),$.initImagesLazyLoad(".rc-rec")}},clickTab:function(e){var t=$(e.currentTarget),n=t.data("tab"),i=this.model.get("tab");this.initTab(n,i),window.customScrollbarAppend()}}),o={View:s,Model:r};t.exports=o},{"../api/config.js":2,"./anchor.js":6,"./game.js":8,"./team.js":10}],10:[function(e,t,n){var i=e("../api/config.js"),a=(window.serverConfig,Backbone.Model.extend({defaults:{teamList:[],page:{total:0,current:0,len:100}},parse:function(e){var t={};if(0===e.code&&(t=e.data),_.isArray(e.data)){var n=this.get("page"),i=this.get("teamList"),a=_.union([],i,e.data);t={teamList:a,page:$.pageFormat(n,a)}}return t},initialize:function(){this.on("change",this.gameChange)},gameChange:function(){var e=this.get("teamList"),t=this.get("page"),n=t.current?t.len*t.current:20,i=_.chain(e).filter(function(e){return e.onlines>=10}).value();return{teamList:i.slice(0,n),page:t}}})),r=Backbone.View.extend({tagName:"div",id:"rc-rec",className:"rc-rec singer-rec team-rec",initialize:function(){this.btnLoad=!1,this.fetch(),this.listenTo(this.model,"change",this.render)},events:{"click #rc-content-team ul>li a.link-rec":"clickRec","click #rc-content-team a.go-more":"clickMore"},render:function(){var e=this.model.gameChange();return this.template=_.template($("#tpl_team").html()),this.$el.html(this.template(e)),this.delegateEvents(),$("body").customScrollbar("scrollToY",0),this.btnLoad||$(window).trigger("resize"),this.btnLoad=!0,$.initImagesLazyLoad(this.$el.find(".link-rec")),this},fetch:function(){$("#rc-content-team").showLoading();var e=this.model.get("page").len?this.model.get("page").len:20,t=this.model.get("page").current?this.model.get("page").current:1;this.model.url=$.addCallbackParam(i.PATH.GET_TEAM+"?type=0&size="+e+"&page="+t),this.model.fetch({success:function(){$("#rc-content-team").showLoading("hide")},error:function(){$("#rc-content-team").showLoading("hide")}})},clickRec:function(e){var t=$(e.currentTarget),n=t.data("sid");try{external.enterServer(n,0,6)}catch(i){}},clickMore:function(e){var t=$(e.currentTarget),n=t.data("current");n++;var i=this.model.get("teamList"),a=this.model.get("page"),r=$.extend({},a,{current:n});$.when(this.model.set({teamList:i,page:r})).then(this.fetch())},hoverRec:function(e){$(e.currentTarget)}}),s={View:r,Model:a};t.exports=s},{"../api/config.js":2}],11:[function(e,t,n){!function(e,t){if(!e)return t;var n=function(){this.el=t,this.items=t,this.sizes=[],this.max=[0,0],this.current=0,this.interval=t,this.opts={autoplay:!1,speed:500,delay:3e3,complete:t,keys:!t,dots:t,fluid:t};var n=this;this.init=function(t,n){if(this.el=t,this.ul=t.children("ul"),this.max=[t.outerWidth(),t.outerHeight()],this.items=this.ul.children("li").each(this.calculate),this.opts=e.extend({},this.opts,n),this.items&&!(this.items.length<2))return this.setup(),this},this.calculate=function(t){var i=e(this),a=i.outerWidth(),r=i.outerHeight();n.sizes[t]=[a,r],a>n.max[0]&&(n.max[0]=a),r>n.max[1]&&(n.max[1]=r)},this.setup=function(){this.el.css({overflow:"hidden",width:n.max[0],height:this.items.first().outerHeight()}),this.ul.css({width:100*this.items.length+"%",position:"relative",left:0}),this.items.css("width",100/this.items.length+"%");for(var t=0;t<this.items.length;t++)e(this.items[t]).attr("data-index",t);if(this.opts.delay&&this.el.hover(this.stop,this.start),this.opts.autoplay?this.start():this.stop(),this.opts.keys&&e(document).keydown(this.keys),this.opts.dots&&this.dots(),this.opts.fluid){var i=function(){n.el.css("width",Math.min(Math.round(n.el.outerWidth()/n.el.parent().outerWidth()*100),100)+"%")};i(),e(window).resize(i)}this.opts.arrows&&this.el.append('<p class="arrows"><span class="prev"><</span><span class="next">></span></p>').find(".arrows span").click(function(){e.isFunction(n[this.className])&&n[this.className]()}),e.event.swipe&&this.el.on("swipeleft",n.prev).on("swiperight",n.next)},this.move=function(t,i){this.items.eq(t).length||(t=0),t<0&&(t=this.items.length-1);var a=this.items.eq(t),r={height:a.outerHeight()},s=i?5:this.opts.speed;this.ul.is(":animated")||(n.el.find(".dot:eq("+t+")").addClass("active").siblings().removeClass("active"),this.el.animate(r,s).attr("data-index",t)&&this.ul.animate(e.extend({left:"-"+t+"00%"},r),s,function(a){n.current=t,e.isFunction(n.opts.complete)&&!i&&n.opts.complete(n.el)}))},this.start=function(){n.opts.autoplay!==t&&(n.interval=setInterval(function(){n.move(n.current+1)},n.opts.delay))},this.stop=function(){return n.interval=clearInterval(n.interval),n},this.keys=function(t){var i=t.which,a={37:n.prev,39:n.next,27:n.stop};e.isFunction(a[i])&&a[i]()},this.next=function(){return n.stop().move(n.current+1)},this.prev=function(){return n.stop().move(n.current-1);
},this.dots=function(){var t='<ol class="dots">';e.each(this.items,function(e){t+='<li class="dot'+(e<1?" active":"")+'"></li>'}),t+="</ol>",this.el.find(".dots").length||this.el.addClass("has-dots").append(t).find(".dot").click(function(){n.move(e(this).index())})}};e.fn._move=function(t,n){var i=e(this);try{var a=i.data("unslider");a.move(n)}catch(r){}},e.fn._slide=function(t,n){var i=e(this);try{var a=i.data("unslider");a.stop().move(n),_.delay(function(){a.interval=0,a.stop()},300)}catch(r){}},e.fn._always=function(t){try{return this.each(function(t,n){var i=e(n);if(i.hasClass("has-dots")){var a=i.data("unslider");a.stop(),a.start()}})}catch(n){}},e.fn.unslider=function(t){var i=this.length;return this.each(function(a){var r=e(this),s=(new n).init(r,t);r.data("unslider"+(i>1?"-"+(a+1):""),s),r.data("unslider",s)})}}(window.jQuery,!1)},{}]},{},[1]);